---
layout: post
title:  "재귀"
date:   2018-11-28
author: ohsing
categories: algorithm
# tags: lorem ipsum
---

## 재귀
- '재귀'란 함수가 자기 자신을 호출하는 것을 말한다. (나는 재귀가 몹시 어렵다..! 으으윽)
- 예를 들어, 큰 상자 속 작은 상자들이 있고, 또 그 속에 상자들이 있다. 그렇게 몹시 많은 상자들 중 한 상자에 열쇠가 들어있다고 가정한다.
 이 때, 열쇠가 들어있는 상자를 찾고자 한다. 열쇠를 찾기 위한 알고리즘은 여러가지를 들 수 있겠지만, 그 중 하나의 방법이 재귀를 사용하는 것이다. 
 <img src="/assets/images/al_post/recursion_1.jpeg" title="recursion_example">
 - 재귀를 사용하면 풀이가 훨씬 명확해진다. 
<br>
 - 이 때, 재귀 함수는 자기 자신을 호출하는 방식이기 때문에, 종료 조건이 존재해야 한다. 따라서, 재귀는 "기본 단계(base case)"와 "재귀 단계(recursive case)"로 구성된다.
 - 기본 단계는 자기 자신을 호출하지 않는 경우를 명시한 부분이고, 재귀 단계는 자기 자신을 호출하는 부분이다. 위 예시에서, '열쇠를 발견한 경우' = 기본 단계 / '상자가 있는 경우' = 재귀 단계 로 이해하면 된다!
<br>

## 호출 스택
- 재귀를 사용하는 프로그램의 경우 '호출 스택'이라는 구조를 사용하므로, 이해하는 것이 매우 중요하다.
- 먼저, 스택이란 저장하고자 하는 데이터를 저장하는 구조이다. 가장 위에 새 항목을 추가하는 push() 함수, 가장 위의 항목을 떼어내는 pop() 함수를 사용한다.
- 호출 스택(call stack)은 여러 개의 함수를 호출하면서 함수에 사용되는 변수를 저장하는 스택이다. 따라서, 재귀 프로그램에서 모든 함수 호출은 호출 스택을 사용한다.
- 재귀 함수에서 호출 스택을 사용하는 예를 다음과 같이 팩토리얼 함수로 들 수 있다.

<img src="/assets/images/al_post/recursion_2.jpeg" title="factorial_example">

- 다음과 같이, 스택을 사용하면 편리한 점이 있지만 함수 호출마다 새로운 메모리를 사용하여서 메모리 소비가 엄청나다는 단점이 있다.
- 그를 해결할 방법은 1) 재귀 대신 반복문을 사용할 것(이 방법 강력추천) / 2) 꼬리 재귀 라는 방식을 사용할 것(고급 기술이라고 한다..!)